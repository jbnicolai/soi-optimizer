/** Oslo JavaScript Framework. */
define(["../util/util","../disposable/disposable","./util","../object/object"],function(a,b,c,d){"use strict";var e=[];function f(a){b.call(this),this.context_=a,this.keys_={}}return a.inherits(f,b),a.mixin(f.prototype,{listen:function(b,d,f,g,h){a.isArray(d)||(e[0]=d,d=e);for(var i=0;i<d.length;i++){var j=c.listen(b,d[i],f||this,g||!1,h||this.context_||this);if(a.DEBUG&&!j)return this;var k=j.key;this.keys_[k]=j}return this},listenOnce:function(b,d,e,f,g){if(a.isArray(d))for(var h=0;h<d.length;h++)this.listenOnce(b,d[h],e,f,g);else{var i=c.listenOnce(b,d,e||this,f,g||this.context_||this),j=i.key;this.keys_[j]=i}return this},getListenerCount:function(){var a=0;for(var b in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,b)&&a++;return a},unlisten:function(b,d,e,f,g){if(a.isArray(d))for(var h=0;h<d.length;h++)this.unlisten(b,d[h],e,f,g);else{var i=c.getListener(b,d,e||this,f,g||this.context_||this);i&&(c.unlistenByKey(i),delete this.keys_[i.key])}return this},removeAll:function(){d.forEach(this.keys_,c.unlistenByKey),this.keys_={}},disposeInternal:function(){f.superClass_.disposeInternal.call(this),this.removeAll()},handleEvent:function(){throw Error("HandlerManager.handleEvent not implemented")},listenWithWrapper:function(a,b,c,d,e){return b.listen(a,c,d,e||this.context_||this,this),this},unlistenWithWrapper:function(a,b,c,d,e){return b.unlisten(a,c,d,e||this.context_||this,this),this}}),f});