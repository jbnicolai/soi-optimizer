/** Oslo JavaScript Framework. */
define(function(){"use strict";var a=function(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.pad_[0]=128;for(var a=1;64>a;++a)this.pad_[a]=0;this.reset()};return a.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},a.prototype.compress_=function(a,b){b||(b=0);var c,d,e=this.W_;if("string"==typeof a)for(c=0;16>c;c++)e[c]=a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3),b+=4;else for(c=0;16>c;c++)e[c]=a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3],b+=4;for(c=16;80>c;c++)d=e[c-3]^e[c-8]^e[c-14]^e[c-16],e[c]=4294967295&(d<<1|d>>>31);var f,g,h=this.chain_[0],i=this.chain_[1],j=this.chain_[2],k=this.chain_[3],l=this.chain_[4];for(c=0;80>c;c++)40>c?20>c?(f=k^i&(j^k),g=1518500249):(f=i^j^k,g=1859775393):60>c?(f=i&j|k&(i|j),g=2400959708):(f=i^j^k,g=3395469782),d=4294967295&(h<<5|h>>>27)+f+l+g+e[c],l=k,k=j,j=4294967295&(i<<30|i>>>2),i=h,h=d;this.chain_[0]=4294967295&this.chain_[0]+h,this.chain_[1]=4294967295&this.chain_[1]+i,this.chain_[2]=4294967295&this.chain_[2]+j,this.chain_[3]=4294967295&this.chain_[3]+k,this.chain_[4]=4294967295&this.chain_[4]+l},a.prototype.update=function(a,b){b||(b=a.length);for(var c=b-64,d=0,e=this.buf_,f=this.inbuf_;b>d;){if(0===f)for(;c>=d;)this.compress_(a,d),d+=64;if("string"==typeof a){for(;b>d;)if(e[f]=a.charCodeAt(d),++f,++d,64===f){this.compress_(e),f=0;break}}else for(;b>d;)if(e[f]=a[d],++f,++d,64===f){this.compress_(e),f=0;break}}this.inbuf_=f,this.total_+=b},a.prototype.digest=function(){var a,b=[],c=8*this.total_;for(this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,64-(this.inbuf_-56)),a=63;a>=56;a--)this.buf_[a]=255&c,c/=256;this.compress_(this.buf_);var d=0;for(a=0;5>a;a++)for(var e=24;e>=0;e-=8)b[d]=255&this.chain_[a]>>e,++d;return b},a});