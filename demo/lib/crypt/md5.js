/** Oslo JavaScript Framework. */
define(function(){"use strict";var a=function(){this.chain_=new Array(4),this.block_=new Array(64),this.blockLength_=0,this.totalLength_=0,this.reset()};return a.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.blockLength_=0,this.totalLength_=0},a.prototype.compress_=function(a,b){b||(b=0);var c,d=new Array(16);if("string"==typeof a)for(c=0;16>c;++c)d[c]=a.charCodeAt(b++)|a.charCodeAt(b++)<<8|a.charCodeAt(b++)<<16|a.charCodeAt(b++)<<24;else for(c=0;16>c;++c)d[c]=a[b++]|a[b++]<<8|a[b++]<<16|a[b++]<<24;var e=this.chain_[0],f=this.chain_[1],g=this.chain_[2],h=this.chain_[3],i=0;i=4294967295&e+(h^f&(g^h))+d[0]+3614090360,e=f+(4294967295&i<<7|i>>>25),i=4294967295&h+(g^e&(f^g))+d[1]+3905402710,h=e+(4294967295&i<<12|i>>>20),i=4294967295&g+(f^h&(e^f))+d[2]+606105819,g=h+(4294967295&i<<17|i>>>15),i=4294967295&f+(e^g&(h^e))+d[3]+3250441966,f=g+(4294967295&i<<22|i>>>10),i=4294967295&e+(h^f&(g^h))+d[4]+4118548399,e=f+(4294967295&i<<7|i>>>25),i=4294967295&h+(g^e&(f^g))+d[5]+1200080426,h=e+(4294967295&i<<12|i>>>20),i=4294967295&g+(f^h&(e^f))+d[6]+2821735955,g=h+(4294967295&i<<17|i>>>15),i=4294967295&f+(e^g&(h^e))+d[7]+4249261313,f=g+(4294967295&i<<22|i>>>10),i=4294967295&e+(h^f&(g^h))+d[8]+1770035416,e=f+(4294967295&i<<7|i>>>25),i=4294967295&h+(g^e&(f^g))+d[9]+2336552879,h=e+(4294967295&i<<12|i>>>20),i=4294967295&g+(f^h&(e^f))+d[10]+4294925233,g=h+(4294967295&i<<17|i>>>15),i=4294967295&f+(e^g&(h^e))+d[11]+2304563134,f=g+(4294967295&i<<22|i>>>10),i=4294967295&e+(h^f&(g^h))+d[12]+1804603682,e=f+(4294967295&i<<7|i>>>25),i=4294967295&h+(g^e&(f^g))+d[13]+4254626195,h=e+(4294967295&i<<12|i>>>20),i=4294967295&g+(f^h&(e^f))+d[14]+2792965006,g=h+(4294967295&i<<17|i>>>15),i=4294967295&f+(e^g&(h^e))+d[15]+1236535329,f=g+(4294967295&i<<22|i>>>10),i=4294967295&e+(g^h&(f^g))+d[1]+4129170786,e=f+(4294967295&i<<5|i>>>27),i=4294967295&h+(f^g&(e^f))+d[6]+3225465664,h=e+(4294967295&i<<9|i>>>23),i=4294967295&g+(e^f&(h^e))+d[11]+643717713,g=h+(4294967295&i<<14|i>>>18),i=4294967295&f+(h^e&(g^h))+d[0]+3921069994,f=g+(4294967295&i<<20|i>>>12),i=4294967295&e+(g^h&(f^g))+d[5]+3593408605,e=f+(4294967295&i<<5|i>>>27),i=4294967295&h+(f^g&(e^f))+d[10]+38016083,h=e+(4294967295&i<<9|i>>>23),i=4294967295&g+(e^f&(h^e))+d[15]+3634488961,g=h+(4294967295&i<<14|i>>>18),i=4294967295&f+(h^e&(g^h))+d[4]+3889429448,f=g+(4294967295&i<<20|i>>>12),i=4294967295&e+(g^h&(f^g))+d[9]+568446438,e=f+(4294967295&i<<5|i>>>27),i=4294967295&h+(f^g&(e^f))+d[14]+3275163606,h=e+(4294967295&i<<9|i>>>23),i=4294967295&g+(e^f&(h^e))+d[3]+4107603335,g=h+(4294967295&i<<14|i>>>18),i=4294967295&f+(h^e&(g^h))+d[8]+1163531501,f=g+(4294967295&i<<20|i>>>12),i=4294967295&e+(g^h&(f^g))+d[13]+2850285829,e=f+(4294967295&i<<5|i>>>27),i=4294967295&h+(f^g&(e^f))+d[2]+4243563512,h=e+(4294967295&i<<9|i>>>23),i=4294967295&g+(e^f&(h^e))+d[7]+1735328473,g=h+(4294967295&i<<14|i>>>18),i=4294967295&f+(h^e&(g^h))+d[12]+2368359562,f=g+(4294967295&i<<20|i>>>12),i=4294967295&e+(f^g^h)+d[5]+4294588738,e=f+(4294967295&i<<4|i>>>28),i=4294967295&h+(e^f^g)+d[8]+2272392833,h=e+(4294967295&i<<11|i>>>21),i=4294967295&g+(h^e^f)+d[11]+1839030562,g=h+(4294967295&i<<16|i>>>16),i=4294967295&f+(g^h^e)+d[14]+4259657740,f=g+(4294967295&i<<23|i>>>9),i=4294967295&e+(f^g^h)+d[1]+2763975236,e=f+(4294967295&i<<4|i>>>28),i=4294967295&h+(e^f^g)+d[4]+1272893353,h=e+(4294967295&i<<11|i>>>21),i=4294967295&g+(h^e^f)+d[7]+4139469664,g=h+(4294967295&i<<16|i>>>16),i=4294967295&f+(g^h^e)+d[10]+3200236656,f=g+(4294967295&i<<23|i>>>9),i=4294967295&e+(f^g^h)+d[13]+681279174,e=f+(4294967295&i<<4|i>>>28),i=4294967295&h+(e^f^g)+d[0]+3936430074,h=e+(4294967295&i<<11|i>>>21),i=4294967295&g+(h^e^f)+d[3]+3572445317,g=h+(4294967295&i<<16|i>>>16),i=4294967295&f+(g^h^e)+d[6]+76029189,f=g+(4294967295&i<<23|i>>>9),i=4294967295&e+(f^g^h)+d[9]+3654602809,e=f+(4294967295&i<<4|i>>>28),i=4294967295&h+(e^f^g)+d[12]+3873151461,h=e+(4294967295&i<<11|i>>>21),i=4294967295&g+(h^e^f)+d[15]+530742520,g=h+(4294967295&i<<16|i>>>16),i=4294967295&f+(g^h^e)+d[2]+3299628645,f=g+(4294967295&i<<23|i>>>9),i=4294967295&e+(g^(f|~h))+d[0]+4096336452,e=f+(4294967295&i<<6|i>>>26),i=4294967295&h+(f^(e|~g))+d[7]+1126891415,h=e+(4294967295&i<<10|i>>>22),i=4294967295&g+(e^(h|~f))+d[14]+2878612391,g=h+(4294967295&i<<15|i>>>17),i=4294967295&f+(h^(g|~e))+d[5]+4237533241,f=g+(4294967295&i<<21|i>>>11),i=4294967295&e+(g^(f|~h))+d[12]+1700485571,e=f+(4294967295&i<<6|i>>>26),i=4294967295&h+(f^(e|~g))+d[3]+2399980690,h=e+(4294967295&i<<10|i>>>22),i=4294967295&g+(e^(h|~f))+d[10]+4293915773,g=h+(4294967295&i<<15|i>>>17),i=4294967295&f+(h^(g|~e))+d[1]+2240044497,f=g+(4294967295&i<<21|i>>>11),i=4294967295&e+(g^(f|~h))+d[8]+1873313359,e=f+(4294967295&i<<6|i>>>26),i=4294967295&h+(f^(e|~g))+d[15]+4264355552,h=e+(4294967295&i<<10|i>>>22),i=4294967295&g+(e^(h|~f))+d[6]+2734768916,g=h+(4294967295&i<<15|i>>>17),i=4294967295&f+(h^(g|~e))+d[13]+1309151649,f=g+(4294967295&i<<21|i>>>11),i=4294967295&e+(g^(f|~h))+d[4]+4149444226,e=f+(4294967295&i<<6|i>>>26),i=4294967295&h+(f^(e|~g))+d[11]+3174756917,h=e+(4294967295&i<<10|i>>>22),i=4294967295&g+(e^(h|~f))+d[2]+718787259,g=h+(4294967295&i<<15|i>>>17),i=4294967295&f+(h^(g|~e))+d[9]+3951481745,f=g+(4294967295&i<<21|i>>>11),this.chain_[0]=4294967295&this.chain_[0]+e,this.chain_[1]=4294967295&this.chain_[1]+f,this.chain_[2]=4294967295&this.chain_[2]+g,this.chain_[3]=4294967295&this.chain_[3]+h},a.prototype.update=function(a,b){b||(b=a.length);for(var c=b-64,d=this.block_,e=this.blockLength_,f=0;b>f;){if(0===e)for(;c>=f;)this.compress_(a,f),f+=64;if("string"==typeof a){for(;b>f;)if(d[e++]=a.charCodeAt(f++),64===e){this.compress_(d),e=0;break}}else for(;b>f;)if(d[e++]=a[f++],64===e){this.compress_(d),e=0;break}}this.blockLength_=e,this.totalLength_+=b},a.prototype.digest=function(){var a,b=new Array((this.blockLength_<56?64:128)-this.blockLength_);for(b[0]=128,a=1;a<b.length-8;++a)b[a]=0;var c=8*this.totalLength_;for(a=b.length-8;a<b.length;++a)b[a]=255&c,c/=256;this.update(b);var d=new Array(16),e=0;for(a=0;4>a;++a)for(var f=0;32>f;f+=8)d[e++]=255&this.chain_[a]>>>f;return d},a});