/** Oslo JavaScript Framework. */
define(["./names"],function(a){"use strict";var b=/^#(?:[0-9a-f]{3}){1,2}$/i,c=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,d=/#(.)(.)(.)/;function e(a){return"#"===a.charAt(0)?a:"#"+a}function f(a){return 1===a.length?"0"+a:a}function g(a){if(!h(a))throw Error("'"+a+"' is not a valid hex color");return 4===a.length&&(a=a.replace(d,"#$1$1$2$2$3$3")),a.toLowerCase()}function h(a){return b.test(a)}function i(a){var b=a.match(c);if(b){var d=Number(b[1]),e=Number(b[2]),f=Number(b[3]);if(d>=0&&255>=d&&e>=0&&255>=e&&f>=0&&255>=f)return[d,e,f]}return[]}function j(a){a=g(a);var b=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,2),16),d=parseInt(a.substr(5,2),16);return[b,c,d]}function k(a,b,c){if(a=Number(a),b=Number(b),c=Number(c),isNaN(a)||0>a||a>255||isNaN(b)||0>b||b>255||isNaN(c)||0>c||c>255)throw Error('"('+a+","+b+","+c+'") is not a valid RGB color');var d=f(a.toString(16)),e=f(b.toString(16)),g=f(c.toString(16));return"#"+d+e+g}function l(a){return k(a[0],a[1],a[2])}function m(b){var c={};b=String(b);var d=e(b);if(h(d))return c.hex=g(d),c.type="hex",c;var f=i(b);if(f.length)return c.hex=l(f),c.type="rgb",c;if(a){var j=a[b.toLowerCase()];if(j)return c.hex=j,c.type="named",c}throw Error(b+" is not a valid color string")}return{hexToRgb:j,rgbToHex:k,rgbArrayToHex:l,parse:m}});